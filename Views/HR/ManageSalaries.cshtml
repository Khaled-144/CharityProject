@model CharityProject.Models.SalariesViewModel

<form method="post" asp-action="SaveSalaries">
	<div>
		<label for="month">Select Month:</label>
		<select id="month" name="SelectedMonth">
			@for (int i = 1; i <= 12; i++)
			{
				string selected = i == Model.SelectedMonth ? "selected" : "";
				<option value="@i" selected>@i</option>
			}
		</select>
	</div>
	<div>
		<label for="year">Select Year:</label>
		<select id="year" name="SelectedYear">
			@for (int i = DateTime.Now.Year - 10; i <= DateTime.Now.Year + 10; i++)
			{
				string selected = i == Model.SelectedYear ? "selected" : "";
				<option value="@i" selected>@i</option>
			}
		</select>
	</div>
	<button type="submit">Get Salaries</button>
</form>


<table class="table-auto w-full">
	<thead>
		<tr>
			<th>Employee ID</th>
			<th>Name</th>
			<th>Base Salary</th>
			<th>Housing Allowance</th>
			<!-- Add more salary-related columns here -->
		</tr>
	</thead>
	<tbody>
		@for (int i = 0; i < Model.Employees.Count; i++)
		{
			var employee = Model.Employees[i];
			var salary = Model.Salaries.FirstOrDefault(s => s.emp_id == employee.employee_id && s.date.Month == Model.SelectedMonth && s.date.Year == Model.SelectedYear);

			<tr>
				<td>
					<input type="hidden" name="Salaries[@i].emp_id" value="@employee.employee_id" />
					@employee.employee_id
				</td>
				<td>@employee.name</td>
				<td>
					<input type="number" name="Salaries[@i].BaseSalary" value="@(salary?.base_salary ?? 0)" />
				</td>
				<td>
					<input type="number" name="Salaries[@i].HousingAllowances" value="@(salary?.housing_allowances ?? 0)" />
				</td>
				<!-- Add more input fields for salary attributes -->
			</tr>
		}
	</tbody>
</table>

<button type="submit">Save</button>
